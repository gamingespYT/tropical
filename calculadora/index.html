<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tropical Heights - Calculadora</title>
  <link rel="icon" type="image/x-icon" href="https://gamingespyt.github.io/gamingesp/img/Tropical_Heights.png">
  <meta name="description" content="Calculadora de precios para el negocio Tropical Heights de GuaguaRP.">
  <meta og:image="https://gamingespyt.github.io/gamingesp/img/Tropical_Heights.png">
  <meta name="author" content="Gamingesp">
  <meta og:title content="Tropical Heights - Calculadora">
  <meta og:description content="Calculadora de precios para el negocio Tropical Heights de GuaguaRP.">
  <link rel="stylesheet" href="index.css?v=1.3">
  <script src="../auth.js?v=1.0"></script>
</head>

<body style="display: none;">
  <a href="../index.html" class="back-home" aria-label="Volver al inicio">
    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="black" class="bi bi-arrow-bar-left"
      viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5M10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5" />
    </svg>
  </a>
  <header>
    <img src="https://gamingespyt.github.io/gamingesp/img/Tropical_Heights.png" alt="Logo Tropical Heights">
    <h1>Calculadora Tropical Heights</h1>
    <button onclick="logout()" class="logout-btn" title="Cerrar sesiÃ³n">ðŸ”“</button>
  </header>

  <main class="layout">
    <div class="products-container">
      <div class="products-header">
        <h2>Productos</h2>
        <input type="number" id="global-qty" class="qty-input" min="1" value="1" oninput="setGlobalQty(this.value)"
          aria-label="Cantidad global" />
        <span></span>
      </div>
      <div id="products"></div>
    </div>

    <div class="cart-container">
      <h2>Carrito</h2>
      <div class="list" id="list">AÃ±ade productos para ver el detalle aquÃ­...</div>
      <div class="total" id="total">Total: 0â‚¬</div>
      <div class="buttons">
        <button class="copy-btn" onclick="copyList()">ðŸ“‹ Copiar</button>
        <button id="employee-btn" class="employee-btn" onclick="toggleEmployeeDiscount()">ðŸ‘¥ Descuento
          empleados</button>
        <button id="custom-discount-btn" class="custom-discount-btn" onclick="toggleCustomDiscount()">ðŸ’° Descuento
          personalizado</button>
        <button class="reset-btn" onclick="resetCart()">ðŸ”„ Reset</button>
      </div>
      <div id="custom-discount-panel" class="custom-discount-panel" style="display: none;">
        <label for="custom-discount-input">Porcentaje de descuento:</label>
        <div class="discount-input-group">
          <input type="number" id="custom-discount-input" min="0" max="100" step="1" placeholder="0" />
          <span>%</span>
          <button onclick="applyCustomDiscount()">Aplicar</button>
        </div>
        <label for="custom-discount-reason" style="margin-top: 10px;">Motivo (opcional):</label>
        <input type="text" id="custom-discount-reason" placeholder="Ej: Cliente VIP, PromociÃ³n especial..."
          maxlength="100" />
      </div>
      <button class="invoice-btn" onclick="openInvoiceDialog()">ðŸ§¾ Generar Factura</button>
    </div>
  </main>

  <div id="notification" class="notification"></div>

  <!-- DiÃ¡logo de Factura -->
  <dialog id="invoice-dialog" class="invoice-dialog">
    <div class="dialog-content">
      <h2>Generar Factura</h2>
      <form id="invoice-form" onsubmit="generateInvoice(event)">
        <div class="form-group">
          <label for="invoice-name">Nombre *</label>
          <input type="text" id="invoice-name" name="name" required placeholder="Ej: Juan">
        </div>
        <div class="form-group">
          <label for="invoice-surname">Apellidos *</label>
          <input type="text" id="invoice-surname" name="surname" required placeholder="Ej: GarcÃ­a LÃ³pez">
        </div>
        <div class="form-group">
          <label for="invoice-phone">TelÃ©fono *</label>
          <input type="tel" id="invoice-phone" name="phone" required placeholder="Ej: 612345678" pattern="[0-9]{9,15}">
        </div>
        <div class="dialog-buttons">
          <button type="button" class="cancel-btn" onclick="closeInvoiceDialog()">Cancelar</button>
          <button type="submit" class="submit-btn">Generar</button>
        </div>
      </form>
    </div>
  </dialog>

  <script src="index.js?v=2.4"></script>
</body>

</html>